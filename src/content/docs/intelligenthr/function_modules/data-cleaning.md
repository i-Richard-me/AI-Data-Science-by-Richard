---
title: "🏢 自动化数据清洗"
description: ""
---

## 1. 功能概述

自动化数据清洗是一个智能化的数据处理工具，专门用于验证和标准化各类实体名称，如公司名称、学校名称等。
该功能充分利用大型语言模型（LLM）的自然语言处理能力，结合网络搜索和向量数据库技术，大幅减少人工干预，提高数据清洗的效率和准确性。

核心功能包括：

* 智能输入验证：利用LLM判断用户输入是否为有效的实体名称，无需人工筛选。
* 自动化信息提取：通过多个搜索引擎API收集信息，并使用LLM智能分析和提取关键数据。
* 上下文感知的名称识别：LLM能够理解上下文，从复杂的搜索结果中准确识别标准化实体名称。
* 高效向量匹配：使用向量数据库进行快速、精准的实体名称匹配，减少人工比对工作。
* 自适应验证流程：多步骤的智能验证过程，能够根据不同情况自动调整策略。
* 批量智能处理：支持大规模数据的自动化处理，显著提升工作效率。
* 多实体类型支持：可处理多种实体类型，如公司名称、学校名称等，具有良好的扩展性。

## 2. 使用步骤和功能说明

### 2.1 启动应用

1. 确保已安装所有必要的依赖项。
2. 运行`02_🏢_自动化数据清洗.py`文件以启动Streamlit应用。

### 2.2 选择实体类型

1. 在主界面，使用下拉菜单选择要处理的实体类型（如"公司名称"或"学校名称"）。
2. 可选择是否使用演示数据，勾选"使用演示数据"复选框将使用预设的演示数据，否则将使用已存在的数据库数据。

### 2.3 单个实体验证

1. 在"单个[实体类型]标准化"部分，输入需要验证的实体名称。
2. 点击"标准化"按钮，系统将自动开始验证流程。
3. 验证完成后，系统会显示以下信息：
    - 最终标准化实体名称
    - 验证状态（有效/无效）
    - 详细信息（可展开查看）

### 2.4 批量处理

1. 在"批量[实体类型]标准化"部分，上传包含实体名称的CSV文件。
2. 系统会显示上传文件的预览。
3. 点击"开始批量处理"按钮。
4. 处理完成后，系统会显示结果表格，并提供下载处理结果的选项。

### 2.5 验证流程详解

1. 智能输入验证
    - LLM分析输入，判断是否为有效实体名称，无需人工预筛选。
    - 对于无效输入，系统快速终止流程并给出反馈，节省处理时间。

2. 上下文感知的网络搜索
    - 使用DuckDuckGo搜索引擎获取实体相关信息。
    - LLM分析搜索结果，理解上下文，提取相关信息。

3. 智能搜索结果分析
    - LLM深度分析搜索结果，识别标准化实体名称。
    - 自动判断识别状态，无需人工干预。

4. 语义驱动的向量数据库检索
    - 利用LLM生成的语义向量，在向量数据库中进行高效匹配。
    - 大幅减少传统字符串匹配的错误和人工校对需求。

5. 智能名称匹配评估
    - LLM综合评估检索到的实体名称与用户查询的语义相似度。
    - 自动处理同义词、简称等复杂情况，减少人工判断。

6. 自适应替代搜索
    - 系统智能判断初次搜索效果，必要时自动使用Tavily进行替代搜索。

7. 智能结果生成与分析
    - LLM综合所有步骤的结果，生成最终的标准化实体名称。

## 3. 使用技巧

1. 输入准确性：尽量输入完整准确的实体名称，这有助于提高验证成功率。

2. 定期更新：考虑定期更新向量数据库中的实体信息，以确保匹配的准确性。

3. 选择适当的实体类型：确保选择正确的实体类型，如公司名称或学校名称，以获得最佳的验证结果。

4. 利用批量处理：对于大量数据，使用批量处理功能可以显著提高效率。

5. 查看详细信息：对于单个实体验证，查看详细信息可以了解系统的判断过程，有助于理解结果。

## 4. 性能和限制

- 处理速度：单个实体验证通常在几秒内完成，批量处理速度取决于数据量和网络状况。
- 准确性：依赖于搜索引擎结果和向量数据库的质量，可能存在少数误判情况。
- 实体类型限制：当前支持公司名称和学校名称，其他类型的实体可能需要额外配置。
- 网络依赖：需要稳定的网络连接以访问搜索引擎和外部API。

## 5. 最佳实践案例

1. 场景：HR部门数据清理
    - 需求：HR部门需要清理和标准化大量包含公司名称和学校名称的历史数据集。
    - 应用：使用批量处理功能，分别处理公司名称和学校名称数据。
    - 结果：显著减少数据清洗时间，从原本需要数天的人工处理缩短到几小时的自动化处理。

2. 场景：招聘系统数据优化
    - 需求：优化招聘系统中的应聘者学历信息，统一学校名称格式。
    - 应用：使用单个实体验证功能处理新录入的学校名称，确保数据一致性。
    - 结果：提高了数据质量，便于后续的数据分析和报告生成。

3. 场景：供应商管理系统更新
    - 需求：更新和规范化供应商数据库中的公司名称。
    - 应用：结合批量处理和单个验证功能，处理存量和新增供应商数据。
    - 结果：建立了标准化的供应商名录，减少了因名称不一致导致的数据重复和混乱。

## 6. 常见问题解答（FAQ）

1. Q: 系统无法识别某些实体名称，该怎么办？

   A: 尝试使用实体的其他常用名称或全称。如果仍然无法识别，可能需要手动核实或更新系统的实体数据库。

2. Q: 如何提高验证的准确率？

   A: 定期更新向量数据库，使用准确的实体全称，必要时结合人工审核。对于特定领域的实体，考虑添加专门的验证规则。

3. Q: 如何解释验证结果中的"识别状态"和"验证状态"？

   A: "识别状态"表示系统是否从搜索结果中识别出实体信息，"验证状态"表示识别出的实体名称与输入是否匹配。

4. Q: 系统使用了哪些外部API或服务？

   A: 系统使用了DuckDuckGo和Tavily搜索API，以及OpenAI的API进行自然语言处理。确保这些服务在使用环境中可访问。

5. Q: 系统如何处理新成立或鲜为人知的实体？

   A: 系统会综合利用最新的网络搜索结果和LLM的推理能力。对于确实缺乏信息的情况，系统会标记为"未知"，并提供可用的线索，便于后续人工核实。

6. Q: 如何添加新的实体类型进行处理？

   A: 需要在后端代码中定义新的实体类型，包括相应的验证规则和数据源。同时更新前端界面以支持新的实体类型选择。

7. Q: 批量处理的CSV文件格式有什么要求？

   A: CSV文件应包含一列实体名称，无需表头。确保文件编码为UTF-8，以正确处理中文字符。